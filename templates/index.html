{% extends "base.html" %}

{% block content %}
<section class="filters-section py-4">
    <div class="container">
            <form method="get" action="{{ url_for('catalog') }}">
    <div class="row g-3 align-items-end mb-4">
        <!-- –ü–æ–∏—Å–∫ -->
        <div class="col-md-4">
            <label class="filter-label">Search products</label>
            <input type="text" 
                   name="search"
                   value="{{ request.args.get('search', '') }}"
                   class="form-control filter-input" 
                   placeholder="Find hives, tools, gear...">
        </div>

        <!-- –§–∏–ª—å—Ç—Ä –ø–æ —Ü–µ–Ω–µ -->
        <div class="col-md-3">
            <label class="filter-label">Price Range</label>
            <div class="input-group">
                <input type="number"
                       name="price_min"
                       value="{{ request.args.get('price_min', '') }}"
                       class="form-control filter-input"
                       placeholder="Min">
                <span class="input-group-text">-</span>
                <input type="number"
                       name="price_max"
                       value="{{ request.args.get('price_max', '') }}"
                       class="form-control filter-input"
                       placeholder="Max">
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ -->
        <div class="col-md-2">
            <button type="submit" class="btn btn-warning w-100">
                üîç Search
            </button>
        </div>
    </div>
</form>
    </div>
</section>

<!-- Hero Section -->
<section class="hero-section mb-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h1 class="hero-title">Build Your Perfect Apiary with Professionals</h1>
                <a href="#" class="btn btn-hero">Start Your Apiary</a>
            </div>
        </div>
    </div>
</section>



<!-- Categories -->
<section class="categories-section mb-5">
    <div class="container">
        <h2 class="section-title mb-4">Shop by Category</h2>
        <div class="row g-4">
            <div class="col-md-4">
            <a href="{{ url_for('catalog', category='Hives') }}" class="category-card-link" style="text-decoration: none; color: inherit;">
                <div class="category-card">
                    <h3>Hives</h3>
                    <p>Modern, classic, and custom hives.</p>
                </div>
            </a>
            </div>
            <div class="col-md-4">
            <a href="{{ url_for('catalog', category='Extractors') }}" class="category-card-link" style="text-decoration: none; color: inherit;">
                <div class="category-card">
                <h3>Extractors</h3>
                <p>Efficient honey extraction.</p>
                </div>
            </a>
            </div>

            <div class="col-md-4">
                <a href="{{ url_for('catalog', category='Tools') }}" class="category-card-link" style="text-decoration: none; color: inherit;">
                <div class="category-card">
                    <h3>Tools</h3>
                    <p>Everything for hive care.</p>
                </div>
                </a>
            </div>

            <div class="col-md-4">
                <a href="{{ url_for('catalog', category='Feeders') }}" class="category-card-link" style="text-decoration: none; color: inherit;">
                <div class="category-card">
                    <h3>Feeders</h3>
                    <p>Efficient honey exrtaction.</p>
                </div>
                </a>
            </div>
            <div class="col-md-4">
                <a href="{{ url_for('catalog', category='Protective Gear') }}" class="category-card-link" style="text-decoration: none; color: inherit;">
                <div class="category-card">
                    <h3>Protective Gear</h3>
                    <p>Comfortable, durable suits.</p>
                </div>
            </a>
            </div>
            <div class="col-md-4">
                <a href="{{ url_for('catalog', category='Accessories') }}" class="category-card-link" style="text-decoration: none; color: inherit;">
                <div class="category-card">
                    <h3>Accessories</h3>
                    <p>Guides for all skill levels.</p>
                </div>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Recommendations -->
<section class="recommendations-section mb-5">
    <div class="container">
        <h2 class="section-title mb-4">Recommended for You</h2>
        <div class="row g-4">
            <div class="col-md-6">
                <div class="recommendation-card p-3 bg-white rounded shadow-sm">
                    <table class="table table-borderless align-middle">
                        <tbody>
                            {% for product in random_products %}
                            <tr>
                                <td style="width: 60px;">
                                    <img src="{{ product.image_url }}" alt="{{ product.name }}"
                                         class="img-thumbnail rounded" style="width: 60px; height: 60px; object-fit: cover;">
                                </td>
                                <td>
                                    <strong>{{ product.name }}</strong><br>
                                    <small class="text-muted">{{ product.category }}</small>
                                </td>
                                <td class="text-end">
                                    <div><strong>{{ product.price }}$</strong></div>
                                    <div class="text-warning">{{ product.bee_coin | round(0) }} BC</div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    <div class="text-end mt-3">
                        <a href="{{ url_for('catalog') }}" class="btn btn-outline-warning btn-sm">Browse All</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Daily Deal -->
<section class="deal-section mb-5">
    <div class="container">
        <div class="deal-card">
            <h3 class="deal-title">Daily Deal</h3>
            <h4 class="product-name">Bee Smoker Pro</h4>
            <p class="deal-price">Special price for today only! <span>800P / 15 BC</span></p>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="footer-section">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <h5>Contact & Sustainability</h5>
                <ul class="footer-list">
                    <li>Contact Us</li>
                    <li>Supplier API</li>
                    <li>Get Bee Tips</li>
                </ul>
            </div>
            <div class="col-md-4">
                <div class="stat-box">
                    <h3>1,234+</h3>
                    <p>bees saved</p>
                </div>
            </div>
        </div>
    </div>
</footer>
{% endblock %}